<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puissance 4</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bungee+Tint&family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>

  </head>
  <body>
    <div id="nameForm">
      <div class="header" style="display: flex">
        <!-- <div id="particles-js"></div> -->
        <h1>PUISSANCE<span class="shiny">4</span></h1>
        <div id="logoutButton" title="Deconnexion"><i class="fa-solid fa-right-from-bracket"></i></div>
      </div>
      <div class="container">
        <div class="bloc jaune" onclick="expandBloc(this, 'local')">
          <div class="icon-circle">
            <i class="fas fa-home"></i>
          </div>
          <h2>Mode Local</h2>
          <div class="input-fields">
            <div class="input-icon">
              <i class="fas fa-user"></i>
              <input
                type="text"
                id="player1Name"
                placeholder="Nom du Joueur 1"
                onclick="preventPropagation(event)"
              />
            </div>
            <div class="input-icon">
              <i class="fas fa-user"></i>
              <input
                type="text"
                id="player2Name"
                placeholder="Nom du Joueur 2"
                onclick="preventPropagation(event)"
              />
            </div>
            <button class="action-btn rouge" id="startButton">
              Commencer le Jeu
            </button>
            <button class="close-btn" onclick="collapseBloc(event, this)">
              ×
            </button>
          </div>
        </div>
        <div class="bloc rouge" onclick="expandBloc(this, 'online')">
          <div class="icon-circle">
            <i class="fas fa-globe"></i>
          </div>
          <h2>En Ligne</h2>
          <div class="input-fields">
            <div class="input-icon">
              <i class="fas fa-user"></i>
              <input
                type="text"
                id="onlinePlayerName"
                placeholder="Nom du Joueur 1"
                onclick="preventPropagation(event)"
              />
            </div>
            <div class="input-icon">
              <i class="fas fa-key"></i>
              <input
                type="text"
                id="onlineGameCode"
                placeholder="Code de la Partie"
                onclick="preventPropagation(event)"
              />
            </div>
            <div class="flex">
              <button id="createOnlineGameButton" class="action-btn jaune">
                Créer la Partie
              </button>
              <button id="joinOnlineGameButton" class="action-btn bleu">
                Rejoindre la Partie
              </button>
            </div>
            <button class="close-btn" onclick="collapseBloc(event, this)">
              ×
            </button>
          </div>
        </div>
        <div class="bloc bleu" onclick="expandBloc(this, 'computer')">
          <div class="icon-circle">
            <i class="fas fa-robot"></i>
          </div>
          <h2>Contre l'Ordinateur</h2>
          <div class="input-fields">
            <div class="flex">
              <button class="action-btn vert ai-btn" data-difficulty="easy">Facile</button>
              <button class="action-btn jaune ai-btn" data-difficulty="medium">Moyen</button>
              <button class="action-btn rouge ai-btn" data-difficulty="hard">Difficile</button>
            </div>
            <button class="close-btn" onclick="collapseBloc(event, this)">
              ×
            </button>
          </div>
        </div>
      </div>
    </div>
    <div id="voiceControl">
      <button id="startVoiceButton" class="action-btn bleu"><i class="fas fa-microphone"></i>Activer la reconnaissance vocale</button>
    </div>
    <div class="containerGame">
      <div>
        
        <div id="scoreboardLeft" class="scoreboard">
          <div id="player1NameDisplay">Joueur 1</div>
          <div id="player1ScoreDisplay" class="score">0</div>
        </div>
      
        <div id="piecesContainer"></div>
        <div id="board" style="display: none;"></div>
        <div id="message" style="display: none;">Joueur 1 (Rouge) à vous de jouer !</div>
        <div class="confetti" id="confetti" style="display: none;"></div>

        <div id="scoreboardRight" class="scoreboard">
          <div id="player2NameDisplay">Joueur 2</div>
          <div id="player2ScoreDisplay" class="score">0</div>
        </div>
      </div>
      <div id="buttonContainer">
          <button id="restartButton" style="display: none;">Rejouer</button>
          <button id="menuButton" style="display: none;">Revenir au menu</button>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="./js/particles.js"></script>
    <script src="./js/script.js"></script>
    <script>
      function expandBloc(element, mode) {
        document.querySelector(".header").style.display = "none";
        element.classList.add("full-screen");
        const inputFields = element.querySelector(".input-fields");
        inputFields.style.display = "flex";
      }

      function collapseBloc(event, button) {
        event.stopPropagation();
        const bloc = button.parentElement.parentElement;
        bloc.classList.remove("full-screen");
        document.querySelector(".header").style.display = "flex";
        const inputFields = bloc.querySelector(".input-fields");
        inputFields.style.display = "none";
      }

      function preventPropagation(event) {
        event.stopPropagation();
      }
    </script>
  </body>
</html>